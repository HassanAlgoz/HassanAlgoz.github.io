<!DOCTYPE html>
<html lang="ar">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta
  name="description"
  content="موقع حسان القوز حيث يجمع فيه الدورات والمشاريع."
/>
<meta name="author" content="Hassan Algoz" />

<link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico" />
<!-- CSS -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<link
  href="//fonts.googleapis.com/earlyaccess/droidarabickufi.css"
  rel="stylesheet"
/>

<!-- Prioritized CSS -->
<style>
  body {
    margin: 0;
  }

  .wrapper {
    max-width: 960px;
    margin: 0 auto 30px;
    padding: 20px 24px;
  }

  .center {
    margin: 0 auto;
    text-align: center;
  }

  .hide {
    display: none;
  }
</style>

<!-- Custom -->
<link rel="stylesheet" href="/main.css" />

    <title>الخطأ المُبرمَج والغلط الإنشائي - 2020-11-24</title>
    <link rel="stylesheet" href="/posts/layout.css">
</head>
<body>
    <nav dir="rtl">
  <label for="show-menu" class="show-menu">إظهار القائمة</label>
  <input type="checkbox" id="show-menu" role="button" />
  <ul id="menu">
    <li><a href="/pages/study/study.html">مصادر للطالب</a></li>
    <li>
      <a href="#">تعلم الآلة ￬</a>
      <ul class="hidden">
        <li><a href="/pages/hand-signs/hand-signs.html">رؤية الحاسب</a></li>
        <li><a href="/pages/ann-lm/ann-lm.html">نمذجة اللغة</a></li>
      </ul>
    </li>
    <li>
      <a href="#">تطبيقات ￬</a>
      <ul class="hidden">
        <li>
          <a href="/pages/subtitles/subtitles.html">برنامج التفريغ والترجمة</a>
        </li>
        <li><a href="/pages/editor/editor.html">مُحرر Markdown</a></li>
        <li><a href="/pages/dict/dict.html">قاموس المصطلحات</a></li>
      </ul>
    </li>
    <li><a href="/">الرئيسية</a></li>
  </ul>
</nav>

    <div class="wrapper" dir="rtl">
        <p>المحاور</p>
<ul>
<li>معيار صحة البرنامج</li>
<li>الفرق بين الغلط الإنشائي والخطأ المُبرمَج</li>
<li>معالجة الخطأ المَبرمَج</li>
<li>إصلاح الغلط الإنشائي</li>
</ul>
<h1 id="">كيف تنشئ برمجيات صحيحة؟</h1>
<p>البرنامج إجراءات. فإذا كان كل إجراء صحيح، خلا البرنامج من الأغلاط.</p>
<p>وصحة الإجراء أن تُصِّدق تفاصيلُه وصفَه.</p>
<p>والإجراء له وصفان: وصفٌ بلغة البرمجة، ووصفٌ بلغة الخطاب. فالأوَّل تفهمه الأدوات البرمجية فتساعدك في الكتابة والتعديل والقراءة، والثاني يفهمه المستخدم ويُسمَّى التوثيق (documentation).</p>
<p>فالوصف بلغة البرمجة يحوي مُعرِّف الإجراء، وقيوداً أخرى.</p>
<p>فمُعرِّف الإجراء (function signature): هو ما يُميَّز به بين إجراءٍ وآخر، فمن ذلك: اسم الإجراء ومدخلاته ونوعها ومخرجاته ونوعها. فإذا اتفق اسمان، عرف البرنامج أي الإجرائين يُجري باختلاف الحدود الأخرى للمعرِّف. وهذا يُعرف باسم (function overloading).</p>
<p>وقد تقيِّد اللغة المدخلات والمخرجات بما يزيد عن تحديد نوعها، وهو ما يُعرفُ بالتوكيد (Assertion).</p>
<p>فإذا قرأ المستخدم الوصفين عرف ما يأخذ الإجراء وما يُخرج، فلا يعطيه ما لا يقبل ولا يتوقَّع منه ما لا يضمن.</p>
<h1 id="-1">الفرق بين الغلط الإنشائي والخطأ المُبرمَج</h1>
<p>والخطأ المُبرمَج أحد المخرجات ويدلُّ على سلوك مسارٍ غير المعتاد.</p>
<p>أما الغلط الإنشائي (Bug) فإنه تحوُّلٌ يقع فيُخرج البرنامج إلى حالة غير مُبرمَجة (ليست في منطق البرنامج)، ولذلك فإنه لا حوْل للبرنامج في معالجته.</p>
<p>فالغلط الإنشائي يؤثِّرُ على صِحَّة البرنامج وقد يضرُّ بالموارد: كأن يستنزف الذاكرة أو يملأ المخزن، أو يسمح لمن ليس له السماح، فاللغة المفلحة تُعلِم المبرمج فوْر وقوعه وتوقف البرنامج.</p>
<p>وسبب الخلط بينهما لغاتٌ جعلت آلية معالجة الخطأ المُبرمَج تُمسك الغلط الإنشائي، مع أن البرنامج لا يستطيع معالجته إلا أن يستُرَ عليه ليُفسِد ويتفاقم. فمن هذه الأغلاط:</p>
<ol>
<li>طلب معدومٍ (Null Dereference)</li>
<li>تحويل نوع خاطئ (Incorrect Casting)</li>
<li>أخذ بيانات خارِجَ نطاق حاويها منه (Out-of-bounds Access Violation)</li>
<li>تنفيذ قسمة عدد على صِفر (Divide by Zero)</li>
<li>الدخول في تكرار لا نهائي (Infinite Loop)</li>
<li>تجاوُز حسابي علوي أو سفلي (Arithmetic Overflow or Underflow)</li>
<li>تكديس متجاوِز (Stack Overflow)</li>
<li>تمرير بيانات من نوع خاطئ (Invalid Argument)</li>
<li>عدم تعيين جميع المدخلات (Missing Argument)</li>
</ol>
<p>فترى Java و Python وغيرها، تستعمل try-catch throw لهذه الأغلاط والأخطاء المُبرمَجة.</p>
<h1 id="-2">معالجة الخطأ المُبرمَج</h1>
<p>فإذا رجع لإجراءٍ خطأٌ من إجراء، ينظر فيه ليقرر هل يرجع هو بخطأ أو يسلك إجراءً آخر.</p>
<p>فالأخطاء تكون متسلسلة، فمثلاً: "تعذر رفع الملف: تعذر الوصول للخادم: تعذر الاتصال بالشبكة"، هذا الخطأ سلسلة من ثلاثة أخطاء أصلُها "تعذر الاتصال بالشبكة"، فقد يعالج إجراءٌ هذا الخطأ بأن يُعاوِد رفع الملف بعد حين.</p>
<p>ولاحظ أن "تعذر الاتصال بالشبكة" أمرٌ خارجٌ عن طاقة البرنامج، إلا أنه أمرٌ وارد، ولذلك نُبرمج له مسارًا.</p>
<p>وقد يكون الخطأ: "تعذر رفع الصورة، تجاوز الحجم الحد الأعلى (2 ميجا)"، فيكون علاج مثل هذا النوع من الأخطاء إيصال نصه لمن يملك معالجته؛ كالمستخدم.</p>
<p>وقد يحتاج إلى إيصاله للمطوِّر أو مدير النظام.</p>
<p>وقد يكون علاج الخطأ بإنهاء البرنامج فوْراً.</p>
<h1 id="bug">إصلاح الغلط الإنشائي (bug)</h1>
<h2 id="-3">المرحلة الأولى: العلم بوجود الغلط</h2>
<p>وعدوُّ ذلك أن يُمسكه فيكتمه ويُكمل، لأنه بذلك يُكنُّ فساداً يستشري إلى بقية أجزائه وقد يخرج إلى الأنظمة الأخرى المتصلة به، ثم قد لا يظهر إلا بعد إحداث أغلاطٍ إنشائية وأخطاءٍ مُبرمَجة أخرى، فيصعب حينئذٍ تتبع أصل الغلط لإصلاحه.</p>
<p>فأفضل حلّ للخطأ الإنشائي: أن ينتهي البرنامج عنده.</p>
<h2 id="-4">المرحلة الثانية: تتبع أصل الغلط</h2>
<p>تفرز اللغة رسالة آليَّة تحتوي سلسلة الاستدعاءات التي كانت حين حدوث الغلط، واسم الملف ورقم السطر الذي حصل فيه.</p>
<p>ويُمكن استعمال المدقق (debugger) الذي يوقف البرنامج عند نقاط توقُّف محدده، ويُطْلعه على حال البرنامج عند تلك النقطة، كما يُمكّنه من التحكم في التنفيذ بالخطوِ خطوة واحدة أو الإكمال العادي حتى نقطة توقُّف قادمة.</p>
<p>أما استعمال الكتابة على السجلات الظاهرة باستعمال console.log أو printf ومثيلاتها بغرض التدقيق، فإن ذلك غالبًا ما يكون أفضل منه استعمال المدقق، ولذلك يَحسُن بالمبرمج تعلم استخدام مدقق لغته.</p>
<h2 id="-5">المرحلة الثالثة: إصلاح الغلط</h2>
<p>ولا نبدأ بالإصلاح إلا بعد تعيين أصل الغلط، ثم يكون موضِعُ الإصلاح ذلك الموضع لا غيره،  وقد يكون بإزالة أو إضافة أو تعديل أو تغيير ترتيب، ونحرص فيه أن نُصلِحَ ما يترتب على هذا الإصلاح من الأغلاط في مواضع أخرى.</p>
    </div>
    <footer class="center">
    <p id="copyright">
        الحقوق محفوظة - حسان القوز 2020 ©
    </p>
</footer>
</body>
</html>